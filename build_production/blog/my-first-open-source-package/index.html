<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
        <meta http-equiv="x-ua-compatible" content="ie=edge">
        <meta name="description" content="mostly development projects and learning">

        <meta property="og:title" content="My first open source package | David Hallin"/>
        <meta property="og:type" content="website" />
        <meta property="og:url" content="https://davidhallin.com/blog/my-first-open-source-package"/>
        <meta property="og:description" content="mostly development projects and learning" />

        <title>My first open source package | David Hallin</title>

        <link rel="home" href="https://davidhallin.com/">
        <link rel="icon" href="/favicon.ico">
        <link href="/blog/feed.atom" type="application/atom+xml" rel="alternate" title="David Hallin Atom Feed">

            <meta property="og:title" content="My first open source package" />
    <meta property="og:type" content="article" />
    <meta property="og:url" content="https://davidhallin.com/blog/my-first-open-source-package"/>
    <meta property="og:description" content="I just released my first open-source package" />

                    <!-- Global site tag (gtag.js) - Google Analytics -->
            <script async src="https://www.googletagmanager.com/gtag/js?id=UA-34189472-1"></script>
            <script>
            window.dataLayer = window.dataLayer || [];
            function gtag(){dataLayer.push(arguments);}
            gtag('js', new Date());

            gtag('config', 'UA-34189472-1');
            </script>
        
        <link href="https://fonts.googleapis.com/css?family=Nunito+Sans:300,300i,400,400i,700,700i,800,800i" rel="stylesheet">
        <link rel="stylesheet" href="/assets/build/css/main.css?id=01161b43cb50580db18f">
        <link rel="stylesheet" href="/assets/build/css/fontawesome.min.css">
        <script src="https://cdn.jsdelivr.net/gh/alpinejs/alpine@v2.x.x/dist/alpine.js" defer></script>
    </head>

    <body class="flex flex-col justify-between min-h-screen bg-gray-100 text-gray-800 leading-normal font-sans pt-24">
        <header class="flex items-center shadow bg-white border-b h-24 py-4 fixed left-0 right-0 top-0 z-10" role="banner">
            <div class="container flex items-center max-w-8xl mx-auto px-4 lg:px-8">
                <div class="flex items-center">
                    <a href="/" title="David Hallin home" class="inline-flex items-center">
                        <img class="h-8 md:h-10 mr-3 rounded-full" src="/assets/img/davidhallin.png" alt="David Hallin logo" />

                        <h1 class="text-lg md:text-2xl text-blue-800 font-semibold hover:text-blue-600 my-0">David Hallin</h1>
                    </a>
                </div>

                <div id="vue-search" class="flex flex-1 justify-end items-center">
                    <search></search>

                    <nav class="hidden lg:flex items-center justify-end text-lg">
    <a title="David Hallin Blog" href="/blog"
        class="ml-6 text-gray-700 hover:text-blue-600 ">
        Blog
    </a>

    <a title="David Hallin About" href="/about"
        class="ml-6 text-gray-700 hover:text-blue-600 ">
        About
    </a>

    <a title="Dave's Twitter" target="_blank()" class="ml-6 text-gray-700 hover:text-blue-600" href="https://twitter.com/hallindavid"><i class="fab fa-twitter"></i></a>
    <a title="Dave's GitHub" target="_blank()" class="ml-6 text-gray-700 hover:text-blue-600" href="https://github.com/hallindavid"><i class="fab fa-github"></i></a>
    <a title="Dave's StackShare" target="_blank()" class="ml-6 items-center" href="https://stackshare.io/hallindavid/ihaveused"><img src="/assets/img/stackshare.png" class="h-4 w-4 hover:opacity-75"></a>
</nav>

                    <button class="flex justify-center items-center bg-blue-500 border border-blue-500 h-10 px-5 rounded-full lg:hidden focus:outline-none"
    onclick="navMenu.toggle()"
>
    <svg id="js-nav-menu-show" xmlns="http://www.w3.org/2000/svg"
        class="fill-current text-white h-9 w-4" viewBox="0 0 32 32"
    >
        <path d="M4,10h24c1.104,0,2-0.896,2-2s-0.896-2-2-2H4C2.896,6,2,6.896,2,8S2.896,10,4,10z M28,14H4c-1.104,0-2,0.896-2,2  s0.896,2,2,2h24c1.104,0,2-0.896,2-2S29.104,14,28,14z M28,22H4c-1.104,0-2,0.896-2,2s0.896,2,2,2h24c1.104,0,2-0.896,2-2  S29.104,22,28,22z"/>
    </svg>

    <svg id="js-nav-menu-hide" xmlns="http://www.w3.org/2000/svg"
        class="hidden fill-current text-white h-9 w-4" viewBox="0 0 36 30"
    >
        <polygon points="32.8,4.4 28.6,0.2 18,10.8 7.4,0.2 3.2,4.4 13.8,15 3.2,25.6 7.4,29.8 18,19.2 28.6,29.8 32.8,25.6 22.2,15 "/>
    </svg>
</button>

                </div>
            </div>
        </header>

        <nav id="js-nav-menu" class="nav-menu hidden lg:hidden">
    <ul class="my-0">
        <li class="pl-4">
            <a
                title="David Hallin Blog"
                href="/blog"
                class="nav-menu__item hover:text-blue-500 "
            >Blog</a>
        </li>
        <li class="pl-4">
            <a
                title="David Hallin About"
                href="/about"
                class="nav-menu__item hover:text-blue-500 "
            >About</a>
        </li>
        <li class="pl-4">
            <a  title="Dave's Twitter" 
                target="_blank()" 
                class="nav-menu__item hover:text-blue-500 " 
                href="https://twitter.com/hallindavid"
            ><i class="fab fa-twitter"></i> Dave's Twitter</a>
        </li>
        <li class="pl-4">
            <a  title="Dave's GitHub" 
                target="_blank()" 
                class="nav-menu__item hover:text-blue-500 " 
                href="https://github.com/hallindavid">
            <i class="fab fa-github"></i> Dave's GitHub</a>
        </li>
    </ul>
</nav>

        <main role="main" class="flex-auto w-full container max-w-4xl mx-auto py-16 px-6">
                
    <h1 class="leading-none mb-2">My first open source package</h1>

    <p class="text-gray-700 text-xl md:mt-0">Dave  â€¢  March 29, 2020</p>

                        <a
                href="/blog/categories/opensource"
                title="View posts in opensource"
                class="inline-block bg-gray-300 hover:bg-blue-200 leading-loose tracking-wide text-gray-800 uppercase text-xs font-semibold rounded mr-4 px-3 pt-px"
            >opensource</a>
                    <a
                href="/blog/categories/php"
                title="View posts in php"
                class="inline-block bg-gray-300 hover:bg-blue-200 leading-loose tracking-wide text-gray-800 uppercase text-xs font-semibold rounded mr-4 px-3 pt-px"
            >php</a>
            
    <div class="border-b border-gray-300 mb-4 pb-4" v-pre>
        <p>So the other day I was working with <a href="https://calebporzio.com/">Caleb Porzio</a>'s <a href="https://laravel-livewire.com/">Livewire</a> package, and I ran into a unique situation - atleast for me.</p>

<p>In my normal php builds, when you fill out a form like this</p>

<p><img src="/assets/images/first-open-source-package/sample-form.png" /></p>

<p>You would use some javascript library to mask the input on the phone number field like <a href="https://nosir.github.io/cleave.js/">Cleave</a>.  Then when the user would submit the form, I'd remove all formatting characters with regex</p>

<pre><code>$cleansed_phone = preg_replace('/[^0-9]/', '', $posted_phone);
</code></pre>

<p>and format into the desired format - like E.164 if using it for SMS, or if it was a more CRM-like application, storing it like <code>888-888-8888</code> so that people can easily search for it.</p>

<p>In Livewire though, the data is process in PHP - which is super interesting.  Now - I'm sure that there's probably a way to do this with Javascript on top of Livewire, but Livewire already syncs the values accross and makes it super easy to due PHP functions on the data models and send them back to the page.  So in a way, we use Livewire and PHP to build our markup function.</p>

<p>At first I thought to just make the regex calls within the updated function like this:</p>

<pre><code>public function updated($field)
{
    if ($field == 'phone')
    {
        $newPhone = preg_replace('/[^0-9]/', '', $this-&gt;phone);
        $this-&gt;phone = '(' . substr($newPhone, 0,3) . 
                        . (strlen($newPhone) &gt; 3 ? ') ' . substr($newPhone,3,3) : '')
                        . (strlen($newPhone) &gt; 6 ? '-' . substr($newPhone,6,4) : '');
    }
}
</code></pre>

<p>And make no mistake - that will work, but it's a bit of a pain.  I have all this functionality pre-done for me in jQuery &amp; Vue.js and I'm really liking Livewire so far, so I thought I'd make a package of it.</p>

<p>So - here's the package: <a target="_blank()" href="https://github.com/hallindavid/phonehelper">hallindavid/phonehelper</a>.  installable via composer, and Laravel auto-recognizes the ServiceProvider &amp; Alias so when you're wanting to mask phone inputs (just form Canada / US) for the example above, it looks like this</p>

<pre><code>public function updated($field)
{
    if ($field == 'phone')
    {
        $this-&gt;phone = PhoneHelper::format($this-&gt;phone);
    }
}
</code></pre>

<p>It's also super easy to add your own formats by using a configuration file, but it ships with 10 formats by default - checkout the readme for better examples.</p>
    </div>

    <div class="border-b border-gray-300 pb-4 mb-10" v-pre>
        <!-- AddToAny BEGIN -->
        <div class="a2a_kit a2a_kit_size_32 a2a_default_style">
        <a class="a2a_dd" href="https://www.addtoany.com/share"></a>
        <a class="a2a_button_facebook"></a>
        <a class="a2a_button_twitter"></a>
        <a class="a2a_button_email"></a>
        <a class="a2a_button_reddit"></a>
        <a class="a2a_button_pocket"></a>
        <a class="a2a_button_print"></a>
        </div>
        <script async src="https://static.addtoany.com/menu/page.js"></script>
        <!-- AddToAny END -->

    </div>

    <nav class="flex justify-between text-sm md:text-base">
        <div>
                            <a href="https://davidhallin.com/blog/deploying-a-static-site-to-github-pages" title="Older Post: Deploying a static site to a repo subtree and hosting it for free on github pages">
                    &LeftArrow; Deploying a static site to a repo subtree and hosting it for free on github pages
                </a>
                    </div>

        <div>
                            <a href="https://davidhallin.com/blog/livewire-masks-with-manny" title="Newer Post: Masking Livewire inputs with manny">
                    Masking Livewire inputs with manny &RightArrow;
                </a>
                    </div>
    </nav>
        </main>

        <footer class="bg-white text-center text-sm mt-12 py-4" role="contentinfo">
            <ul class="flex flex-col md:flex-row justify-center list-none">
                <li class="md:mr-2">
                    &copy; David Hallin 2020.
                </li>

                <li>
                    Built with <a href="http://jigsaw.tighten.co" title="Jigsaw by Tighten">Jigsaw</a>
                    and <a href="https://tailwindcss.com" title="Tailwind CSS, a utility-first CSS framework">Tailwind CSS</a>.
                </li>
            </ul>
        </footer>

        <script src="/assets/build/js/main.js?id=cfb528a5e0c7c3c5b4ca"></script>

        <script>
    const navMenu = {
        toggle() {
            const menu = document.getElementById('js-nav-menu');
            menu.classList.toggle('hidden');
            menu.classList.toggle('lg:block');
            document.getElementById('js-nav-menu-hide').classList.toggle('hidden');
            document.getElementById('js-nav-menu-show').classList.toggle('hidden');
        },
    }
</script>
    </body>
</html>
